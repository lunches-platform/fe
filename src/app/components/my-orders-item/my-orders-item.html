<div layout="column" class="l-my-orders-item" >
  <md-card>

    <md-card-header>
      <md-card-header-text>
        <span class="md-title">{{ vm.order.shipmentDate | lDate }}</span>
      </md-card-header-text>
    </md-card-header>

    <img ng-src="{{ vm.coverUrl() }}" class="md-card-image" />

    <md-card-content>
      <md-list>
        <md-list-item ng-repeat="lineItem in vm.order.items track by lineItem.product.id" class="l-no-left-padding">
          <img ng-src="{{ ::vm.productTypeToIconUrl(lineItem.product.type) }}" alt="meat" class="material-icons l-png-icon" />
          <p>{{ lineItem.product.name }}</p>
        </md-list-item>
      </md-list>
    </md-card-content>

    <md-divider></md-divider>

    <div layout="row" layout-padding>
      <l-size-label size="vm.order.items[0].size"></l-size-label>
      <l-payment-status paid="vm.order.paid" ng-click="vm.onPay()"></l-payment-status>
      <span class="md-title price-label">{{ vm.order.price }} грн</span>
    </div>

    <md-divider></md-divider>

    <md-card-actions layout="row" layout-align="start center" ng-if="vm.isExist()">
      <md-button ng-click="vm.onCancel()" ng-disabled="!vm.isCancelAllowed()">Отменить</md-button>
      <span class="md-body-1" ng-if="!vm.isCancelAllowed()">Заказ отменить уже нельзя</span>
    </md-card-actions>

    <md-card-actions layout="row" layout-align="start center" ng-if="vm.isCanceled()">
      <span class="md-body-1 l-green">Заказ отменен</span>
      <span flex></span>
      <md-button class="md-primary" ng-click="vm.onNewOrder()">Новый</md-button>
      <md-button ng-click="vm.onRestore()">Вернуть</md-button>
    </md-card-actions>

  </md-card>
</div>
